<app-parties-menu></app-parties-menu>

<h1>{{title}}</h1>

<md-list>

  <md-list-item class="flex">
    <div class="flex-container party-name-container">
      <md-input-container class="party-name-input">
        <input mdInput #partyName name="partyName" type="text" placeholder="New Partyname ...">
      </md-input-container>
    </div>
    <button md-mini-fab (click)="addParty(partyName.value); partyName.value=''">
      <md-icon>add</md-icon>
    </button>
  </md-list-item>

  <md-list-item *ngFor="let party of parties" [routerLink]="['/party-gifts', party.uuid]" class="flex">
    <div class="flex-container">
      <span>{{party.name}}</span>
      <md-chip-list>
        <md-chip [color]="isPartyOfCurrentUser(party) ? 'primary' : 'secondary'" selected="true">
          <a href="mailto:{{getEmail(party)}}">{{getNickname(party)}}</a>
        </md-chip>
      </md-chip-list>
    </div>
    <button md-mini-fab *ngIf="isPartyOfCurrentUser(party)" [routerLink]="['/party', party.uuid]">
      <md-icon>edit</md-icon>
    </button>
  </md-list-item>

</md-list>
